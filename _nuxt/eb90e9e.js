(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{913:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(27),r(57),r(66),r(32)),c=r(31),l=r(97),d=(r(123),{layout:"root",data:function(){return{isPasswordVisible:!1,isPasswordVisible1:!1,successBtn:!1,openCaptcha:!0,success:!1,form:{},error:{},rules:{required:function(e){return!!e||"Required."}},refCode:""}},created:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{initial:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.switchLoad(!0);case 2:case"end":return e.stop()}}),e)})))()},register:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.error={},t.next=3,c.a.switchLoad(!0);case 3:if(e.form.username=e.form.email,"10"!=e.form.phone_number.length){t.next=28;break}return t.next=7,l.a.register(e.form);case 7:if(!(r=t.sent).id){t.next=19;break}return t.next=11,e.generateKyc(r.id);case 11:return t.next=13,e.generatePoint(r.id);case 13:return t.next=15,c.a.switchLoad(!1);case 15:return t.next=17,e.$router.replace("/auth/verify");case 17:t.next=26;break;case 19:return e.error=r,e.success=!1,e.successBtn=!1,t.next=24,e.reCaptcha();case 24:return t.next=26,c.a.switchLoad(!1);case 26:t.next=35;break;case 28:return e.error.phone_number=["Phone Number must 10 characters"],e.success=!1,e.successBtn=!1,t.next=33,e.reCaptcha();case 33:return t.next=35,c.a.switchLoad(!1);case 35:case"end":return t.stop()}}),t)})))()},generateKyc:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.postHttp("/api/account/kyc/",{user:e});case 2:r.sent.id?t.$vs.notification({color:"success",title:"สร้างข้อมูล KYC สำเร็จแล้ว"}):t.$vs.notification({color:"danger",title:"สร้างข้อมูล KYC ไม่สำเร็จ"});case 4:case"end":return r.stop()}}),r)})))()},generatePoint:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,form;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.getHttp("/api/account/tier/");case 2:return n=r.sent,form={total:0,current:0,tier:n[0].id,user:e},r.next=6,o.a.postHttp("/api/account/userpoint/",form);case 6:r.sent.id?t.$vs.notification({color:"success",title:"สร้างข้อมูล Point สำเร็จแล้ว"}):t.$vs.notification({color:"danger",title:"สร้างข้อมูล Point ไม่สำเร็จ"});case 8:case"end":return r.stop()}}),r)})))()},getSuccess:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.successBtn=e,t.success=e;case 2:case"end":return r.stop()}}),r)})))()},reCaptcha:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.successBtn=!1,e.openCaptcha=!0,e.sleep(3),t.next=5,e.reOpenCapcha();case 5:case"end":return t.stop()}}),t)})))()},reOpenCapcha:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openCaptcha=!1;case 1:case"end":return t.stop()}}),t)})))()},sleep:function(e){for(var t=(new Date).getTime()+1e3*e;(new Date).getTime()<=t;);},checkRefCode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getHttp("/api/account/kyc/?user__blacklist=false&refferal_code=".concat(e.refCode));case 2:if(!(t.sent.length>0)){t.next=9;break}return e.form.other_referral_code=e.refCode,t.next=7,c.a.alert("Your Referral Code can use.","success");case 7:t.next=13;break;case 9:return t.next=11,c.a.alerterror("Referral Code Not Found.","error");case 11:e.form.other_referral_code="",e.refCode="";case 13:case"end":return t.stop()}}),t)})))()}}}),f=r(56),m=r(73),v=r.n(m),_=r(662),h=r(577),x=r(578),w=r(653),k=r(650),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("section",{staticClass:"min-h-screen flex items-stretch  "},[r("div",{staticClass:"lg:flex w-1/2 hidden bg-green-400 bg-no-repeat bg-cover relative items-center"},[r("div",{staticClass:"w-full px-24 z-10 text-white"},[r("h1",{staticClass:"text-5xl font-bold text-left tracking-wide"},[e._v("CASH BACK")]),r("br"),r("br"),e._v(" "),r("h1",{staticClass:"text-3xl font-bold text-left tracking-wide"},[e._v("Let’s Trade something amazing today.")]),e._v(" "),r("p",{staticClass:"text-2xl my-4"},[e._v("Maybe some text here will help me see it better. Oh God. Oke, let’s do it then. ")]),e._v(" "),r("div",[r("br"),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:" w-full px-4 lg:px-0 mx-auto"},[r("center",[r("p",[e._v("Or Use Social accounts")])]),e._v(" "),r("Auth-SocialRegister",{on:{callback:e.callback}}),e._v(" "),r("br")],1)])])]),e._v(" "),r("div",{staticClass:"lg:w-1/2 w-full flex items-center justify-center   md:px-16 px-0 z-0"},[r("div",{staticClass:"w-full py-6 z-20"},[r("form",{staticClass:"sm:w-2/3 w-full px-4 lg:px-0 mx-auto",on:{submit:function(t){return t.preventDefault(),e.register()}}},[r("h1",{staticClass:" font-bold text-2xl"},[r("v-icon",{staticClass:"mr-2"},[e._v("em em-writing_hand")]),e._v("\n                            Create your account\n                        ")],1),e._v(" "),r("p",[e._v("\n                            Be a part of us by subscribing.\n                        ")]),r("br"),e._v(" "),r("div",[e.error.email?r("div",e._l(e.error.email,(function(t,i){return r("v-alert",{key:i,attrs:{dense:"",outlined:"",text:"",type:"error",value:!0}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),1):e._e(),e._v(" "),e.error.password?r("div",e._l(e.error.password,(function(t,i){return r("v-alert",{key:i,attrs:{dense:"",outlined:"",text:"",type:"error",value:!0}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),1):e._e(),e._v(" "),e.error.password_confirm?r("div",e._l(e.error.password_confirm,(function(t,i){return r("v-alert",{key:i,attrs:{dense:"",outlined:"",text:"",type:"error",value:!0}},[e._v("\n                              "+e._s(t)+"\n                            ")])})),1):e._e(),e._v(" "),e.error.phone_number?r("div",e._l(e.error.phone_number,(function(t,i){return r("v-alert",{key:i,attrs:{dense:"",outlined:"",text:"",type:"error",value:!0}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),1):e._e()]),e._v(" "),r("v-alert",{attrs:{outlined:"",dense:"",type:"info",prominent:"",border:"left"}},[e._v("\n                                Please fill out the information completely.")]),e._v(" "),r("v-text-field",{staticClass:"mt-2",attrs:{id:"reg_email",required:"",hint:"* Please enter E-mail","persistent-hint":"","prepend-inner-icon":"em em-email",outlined:"",label:"E-mail"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("v-text-field",{attrs:{id:"reg_first_name",required:"",hint:"* Please enter Frist Name","persistent-hint":"","prepend-inner-icon":"em em-man-frowning",outlined:"",label:" Frist Name"},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}}),e._v(" "),r("v-text-field",{attrs:{id:"reg_last_name",required:"",hint:"* Please enter Last Name","persistent-hint":"","prepend-inner-icon":"em em-man-frowning",outlined:"",label:" Last Name"},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}}),e._v(" "),r("v-text-field",{attrs:{id:"reg_phone_number",required:"",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');","item-text":"value",hint:"* fill in  Number Phone","persistent-hint":"",maxlength:"10",type:"text",outlined:"","prepend-inner-icon":"em em-iphone",label:"Phone Number"},model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}}),e._v(" "),r("v-text-field",{attrs:{id:"reg_password","persistent-hint":"","prepend-inner-icon":"em em-lock",type:e.isPasswordVisible?"text":"password",outlined:"",label:"Password",placeholder:"············","append-icon":e.isPasswordVisible?"mdi-eye-off-outline":"mdi-eye-outline"},on:{"click:append":function(t){e.isPasswordVisible=!e.isPasswordVisible}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("v-text-field",{attrs:{"persistent-hint":"","prepend-inner-icon":"em em-lock",type:e.isPasswordVisible1?"text":"password",outlined:"",label:"Confirm Password",placeholder:"············","append-icon":e.isPasswordVisible1?"mdi-eye-off-outline":"mdi-eye-outline"},on:{"click:append":function(t){e.isPasswordVisible1=!e.isPasswordVisible1}},model:{value:e.form.password_confirm,callback:function(t){e.$set(e.form,"password_confirm",t)},expression:"form.password_confirm"}}),e._v(" "),r("br"),e._v(" "),r("v-text-field",{attrs:{id:"reg_ref","prepend-inner-icon":"em em-woman-raising-hand",type:"text","persistent-hint":"",outlined:"",label:"Referral Code"},on:{change:function(t){return e.checkRefCode()}},model:{value:e.refCode,callback:function(t){e.refCode=t},expression:"refCode"}}),e._v(" "),r("br"),e._v(" "),e.successBtn?e._e():r("Auth-Captcha",{attrs:{reload:e.openCaptcha},on:{cap:e.getSuccess}}),e._v(" "),e.successBtn?r("v-btn",{staticClass:"bg-primary-g mt-6",attrs:{id:"reg_btn",type:"submit","x-large":"",dark:"",block:""}},[e._v("\n                            Sign Up\n                        ")]):e._e(),e._v(" "),r("div",{staticClass:"d-flex align-center justify-space-between flex-wrap mt-4"},[r("p",{staticClass:"mt-1"},[e._v("If you have an account?\n                                "),r("router-link",{attrs:{to:{path:"/auth/login"}}},[e._v("\n                                    Login\n                                ")])],1),e._v(" "),r("v-spacer")],1)],1)])])])])])}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAlert:_.a,VBtn:h.a,VIcon:x.a,VSpacer:w.a,VTextField:k.a})}}]);