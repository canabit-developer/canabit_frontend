(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{970:function(e,r,t){"use strict";t.r(r);var n=t(3),c=(t(19),t(63),t(41)),o=t(57),d={props:{kyc:{default:{}}},data:function(){return{dialog:!1,form:{}}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.init();case 2:case"end":return r.stop()}}),r)})))()},methods:{init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.form=e.kyc;case 1:case"end":return r.stop()}}),r)})))()},verify:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.form.use_passport){r.next=5;break}return r.next=3,e.saveData();case 3:case 11:r.next=15;break;case 5:return r.next=7,e.checkIdData();case 7:if(!r.sent){r.next=13;break}return r.next=11,e.saveData();case 13:return r.next=15,c.a.noti("danger","Wrong ID Number","Your ID Card is not format.");case 15:case"end":return r.stop()}}),r)})))()},saveData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.putHttpAlert("/api/account/kyc/".concat(e.kyc.id,"/"),{card_id:e.form.card_id,use_passport:e.form.use_passport});case 3:if(!(t=r.sent).id){r.next=8;break}return e.dialog=!1,r.next=8,e.$emit("reload",t);case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,c.a.noti("danger","Cannot Save","Your ID Card is not format. or Server is error");case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},closeDialog:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.dialog=!1,r.next=3,e.init();case 3:return e.form={},r.next=6,e.$emit("reload");case 6:case"end":return r.stop()}}),r)})))()},checkIdData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.form.card_id,e.IsNumeric(t)){r.next=3;break}return r.abrupt("return",!1);case 3:if(0!=t.substring(0,1)){r.next=5;break}return r.abrupt("return",!1);case 5:if(13==t.length){r.next=9;break}return e.checkId=!1,console.log(!1),r.abrupt("return",!1);case 9:for(n=0,i=0;i<12;i++)n+=parseFloat(t.charAt(i))*(13-i);if((11-n%11)%10==parseFloat(t.charAt(12))){r.next=17;break}return e.checkId=!1,console.log(!1),r.abrupt("return",!1);case 17:return e.checkId=!0,console.log(!0),r.abrupt("return",!0);case 20:case"end":return r.stop()}}),r)})))()},IsNumeric:function(input){return/^-?(0|INF|(0[1-7][0-7]*)|(0x[0-9a-fA-F]+)|((0|[1-9][0-9]*|(?=[\.,]))([\.,][0-9]+)?([eE]-?\d+)?))$/.test(input)}}},l=t(75),f=t(86),v=t.n(f),m=t(601),k=t(595),x=t(591),_=t(1042),h=t(830),w=t(596),y=t(588),D=t(684),component=Object(l.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.kyc.card_id?t("div",[t("h2",{staticClass:"text-green-500 font-semibold text-base"},[e._v(" "+e._s(e.$t("kyc").txt)+" "),e.kyc.use_passport?t("span",[e._v(e._s(e.$t("kyc").passport)+" ")]):t("span",[e._v(e._s(e.$t("kyc").cardnumber)+" ")]),e._v(" : "+e._s(e.kyc.card_id)+" ")])]):e._e(),t("br"),e._v(" "),t("div",{staticClass:"flex justify-center mt-4"},[t("v-spacer",{staticClass:"hidden md:block"}),e._v(" "),e.kyc.user_verified?e._e():t("v-btn",{attrs:{color:"success"},on:{click:function(r){e.dialog=!0}}},[e._v(e._s(e.$t("kyc").updatedata))])],1),e._v(" "),t("v-dialog",{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:e.dialog,callback:function(r){e.dialog=r},expression:"dialog"}},[t("v-card",[t("v-card-title",{attrs:{"primary-title":""}},[e._v("\r\n                "+e._s(e.$t("kyc").updatedata)),t("v-spacer"),e._v(" "),t("v-icon",{on:{click:function(r){return e.closeDialog()}}},[e._v("mdi-close")])],1),e._v(" "),t("v-card-text",[t("form",{on:{submit:function(r){return r.preventDefault(),e.verify()}}},[t("v-checkbox",{attrs:{label:"Use Passport Number"},model:{value:e.form.use_passport,callback:function(r){e.$set(e.form,"use_passport",r)},expression:"form.use_passport"}}),e._v(" "),t("v-text-field",{staticClass:"mt-5",attrs:{required:"",hint:"Please check the correctness ID Number",label:"Your ID card number.",outlined:""},model:{value:e.form.card_id,callback:function(r){e.$set(e.form,"card_id",r)},expression:"form.card_id"}}),e._v(" "),t("div",{staticClass:"flex"},[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{type:"submit",color:"success"}},[e._v("บันทึกข้อมูล")])],1)],1)])],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports;v()(component,{VBtn:m.a,VCard:k.a,VCardText:x.c,VCardTitle:x.d,VCheckbox:_.a,VDialog:h.a,VIcon:w.a,VSpacer:y.a,VTextField:D.a})}}]);